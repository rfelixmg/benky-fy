<!-- Flashcard Scripts - ES6 Module System -->
<script type="module">
// Import the main flashcard application
import { initializeFlashcardApp } from '/static/js/main.js';

// Module name meta tag for the application
const moduleName = '{{ module_name }}';
if (!document.querySelector('meta[name="module-name"]')) {
    const meta = document.createElement('meta');
    meta.name = 'module-name';
    meta.content = moduleName;
    document.head.appendChild(meta);
}

   // Initialize the application when DOM is ready
   document.addEventListener('DOMContentLoaded', async () => {
       try {
           await initializeFlashcardApp(moduleName);
       } catch (error) {
           console.error('Failed to start flashcard application:', error);
       }
   });
</script>

<!-- Fallback for browsers that don't support ES6 modules -->
<script nomodule>
console.warn('ES6 modules not supported. Please use a modern browser.');
document.body.innerHTML = '<div class="error">This application requires a modern browser with ES6 module support.</div>';
</script>